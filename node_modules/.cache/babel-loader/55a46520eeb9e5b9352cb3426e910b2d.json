{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xuwen\\\\Desktop\\\\INFO340\\\\project-2-xuwensi\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { MainPage } from './MainPage';\nimport { CreatePost } from './Createpost';\nimport { Footer } from './Footer';\nimport { PostDetail } from './PostDetail';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Mygroup } from './MyGroup';\nimport { Profile } from './Profile';\nimport { EditProfile } from './EditProfile';\nimport firebase from 'firebase/app';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.uiConfig = {\n      signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID],\n      signInFlow: 'popup'\n    };\n    this.state = {\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    this.authUnSubFunction = firebase.auth().onAuthStateChanged(firebaseUser => {\n      if (firebaseUser) {\n        console.log(\"Logged in as\", firebaseUser.email);\n        this.setState({\n          user: firebaseUser\n        });\n      } else {\n        console.log(\"Logged out\");\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnSubFunction();\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.state.user) {\n      content = /*#__PURE__*/React.createElement(StyledFirebaseAuth, {\n        uiConfig: this.uiConfig,\n        firebaseAuth: firebase.auth(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      });\n    } else {\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, \"Logged in as \", this.state.user.displayName, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning float-right\",\n        onClick: this.handleSignOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }\n      }, \"Sign Out\"))), /*#__PURE__*/React.createElement(MainPage, {\n        useremail: this.state.user.email.replace(/[^a-zA-Z0-9]/g, \"\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, this.state.errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, this.state.errorMessage), content);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/xuwen/Desktop/INFO340/project-2-xuwensi/src/App.js"],"names":["React","Component","MainPage","CreatePost","Footer","PostDetail","BrowserRouter","Router","Route","Switch","Redirect","Mygroup","Profile","EditProfile","firebase","StyledFirebaseAuth","App","constructor","props","uiConfig","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","signInFlow","state","user","componentDidMount","authUnSubFunction","onAuthStateChanged","firebaseUser","console","log","email","setState","componentWillUnmount","render","content","displayName","handleSignOut","replace","errorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { MainPage } from './MainPage';\r\nimport { CreatePost } from './Createpost';\r\nimport { Footer } from './Footer';\r\nimport { PostDetail } from './PostDetail';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { Mygroup } from './MyGroup';\r\nimport { Profile } from './Profile';\r\nimport { EditProfile } from './EditProfile';\r\nimport firebase from 'firebase/app';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\n\r\nexport default class App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            user: null\r\n        }\r\n    }\r\n\r\n    uiConfig = {\r\n        signInOptions: [\r\n            firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n        ],\r\n        signInFlow: 'popup',\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.authUnSubFunction = firebase.auth().onAuthStateChanged((firebaseUser) => {\r\n            if (firebaseUser) {\r\n                console.log(\"Logged in as\", firebaseUser.email);\r\n                this.setState({ user: firebaseUser })\r\n            } else {\r\n                console.log(\"Logged out\");\r\n                this.setState({ user: null })\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.authUnSubFunction();\r\n    }\r\n\r\n    render() {\r\n        let content = null;\r\n        if (!this.state.user) { \r\n            content = (\r\n                <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()} />\r\n            )\r\n        }\r\n        else { \r\n            content = (\r\n                <div>\r\n                    <div className=\"alert alert-success\">\r\n                        <h3>Logged in as {this.state.user.displayName}\r\n                            <button className=\"btn btn-warning float-right\" onClick={this.handleSignOut}>\r\n                                Sign Out\r\n                            </button>\r\n                        </h3>\r\n                    </div>\r\n                    <MainPage useremail={(this.state.user.email).replace(/[^a-zA-Z0-9]/g, \"\")} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n            return (\r\n                <div className=\"container\">\r\n                    {this.state.errorMessage &&\r\n                        <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\r\n                    }\r\n                    {content}\r\n                </div>\r\n            )\r\n        \r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}