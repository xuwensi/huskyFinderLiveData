{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xuwen\\\\Desktop\\\\INFO340\\\\project-2-xuwensi\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { MainPage } from './MainPage';\nimport { CreatePost } from './Createpost';\nimport { Footer } from './Footer';\nimport { PostDetail } from './PostDetail';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Mygroup } from './MyGroup';\nimport { Profile } from './Profile';\nimport { EditProfile } from './EditProfile';\nimport firebase from 'firebase/app';\nimport { signUp } from './SignUp';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.uiConfig = {\n      //which sign in values should we support?\n      signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID],\n      //for external sign-in methods, use popup instead of redirect\n      signInFlow: 'popup'\n    };\n\n    this.handleSignOut = () => {\n      firebase.auth().signOut();\n    };\n\n    this.state = {\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    //when I signed in or signed out\n    this.authUnSubFunction = firebase.auth().onAuthStateChanged(firebaseUser => {\n      if (firebaseUser) {\n        //if exists, then we logged in\n        console.log(\"Logged in as\", firebaseUser.email);\n        this.setState({\n          user: firebaseUser\n        });\n      } else {\n        console.log(\"Logged out\");\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnSubFunction();\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.state.user) {\n      //signed out\n      content = /*#__PURE__*/React.createElement(StyledFirebaseAuth, {\n        uiConfig: this.uiConfig,\n        firebaseAuth: firebase.auth(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      });\n    } else {\n      //signed in\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"Logged in as \", this.state.user.displayName, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning float-right\",\n        onClick: this.handleSignOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, \"Sign Out\"))), /*#__PURE__*/React.createElement(MainPage, {\n        fbuserkey: this.state.user.email.replace(/[^a-zA-Z0-9]/g, \"\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    if (this.state.user == null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, this.state.errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }, this.state.errorMessage), content);\n    } else {\n      return /*#__PURE__*/React.createElement(Router, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: MainPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/createpost\",\n        component: CreatePost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/postdetail\",\n        component: PostDetail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/mygroup\",\n        component: Mygroup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/profile\",\n        component: Profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/editprofile\",\n        component: EditProfile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/signup\",\n        component: signUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      })));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/xuwen/Desktop/INFO340/project-2-xuwensi/src/App.js"],"names":["React","Component","MainPage","CreatePost","Footer","PostDetail","BrowserRouter","Router","Route","Switch","Redirect","Mygroup","Profile","EditProfile","firebase","signUp","StyledFirebaseAuth","App","constructor","props","uiConfig","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","signInFlow","handleSignOut","signOut","state","user","componentDidMount","authUnSubFunction","onAuthStateChanged","firebaseUser","console","log","email","setState","componentWillUnmount","render","content","displayName","replace","errorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { MainPage } from './MainPage';\r\nimport { CreatePost } from './Createpost';\r\nimport { Footer } from './Footer';\r\nimport { PostDetail } from './PostDetail';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { Mygroup } from './MyGroup';\r\nimport { Profile } from './Profile';\r\nimport { EditProfile } from './EditProfile';\r\nimport firebase from 'firebase/app';\r\nimport { signUp } from './SignUp';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\n\r\nexport default class App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            user: null\r\n        }\r\n    }\r\n\r\n    uiConfig = {\r\n        //which sign in values should we support?\r\n        signInOptions: [\r\n            firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n        ],\r\n        //for external sign-in methods, use popup instead of redirect\r\n        signInFlow: 'popup',\r\n    };\r\n\r\n    componentDidMount() {\r\n        //when I signed in or signed out\r\n        this.authUnSubFunction = firebase.auth().onAuthStateChanged((firebaseUser) => {\r\n            if (firebaseUser) { //if exists, then we logged in\r\n                console.log(\"Logged in as\", firebaseUser.email);\r\n                this.setState({ user: firebaseUser })\r\n            } else {\r\n                console.log(\"Logged out\");\r\n                this.setState({ user: null })\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.authUnSubFunction();\r\n    }\r\n\r\n    handleSignOut = () => {\r\n        firebase.auth().signOut()\r\n    }\r\n\r\n    render() {\r\n        let content = null;\r\n        if (!this.state.user) { //signed out\r\n            content = (\r\n                <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()} />\r\n            )\r\n        }\r\n        else { //signed in\r\n            content = (\r\n                <div>\r\n                    <div className=\"alert alert-success\">\r\n                        <h3>Logged in as {this.state.user.displayName}\r\n                            <button className=\"btn btn-warning float-right\" onClick={this.handleSignOut}>\r\n                                Sign Out\r\n                            </button>\r\n                        </h3>\r\n                    </div>\r\n                    {/* <TaskApp /> */}\r\n                    <MainPage fbuserkey={(this.state.user.email).replace(/[^a-zA-Z0-9]/g, \"\")} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.state.user == null) {\r\n            return (\r\n                <div className=\"container\">\r\n\r\n                    {/* Only included if first clause is true */}\r\n                    {this.state.errorMessage &&\r\n                        <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\r\n                    }\r\n\r\n                    {/* Show content based on user login state */}\r\n                    {content}\r\n\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <Router>\r\n                    <div>\r\n                        <Switch>\r\n                            <Route path='/' exact component={MainPage} />\r\n                            <Route path='/createpost' component={CreatePost} />\r\n                            <Route path='/postdetail' component={PostDetail} />\r\n                            <Route path='/mygroup' component={Mygroup} />\r\n                            <Route path='/profile' component={Profile} />\r\n                            <Route path='/editprofile' component={EditProfile} />\r\n                            <Route path='/signup' component={signUp} />\r\n                            <Redirect to=\"/\" />\r\n                        </Switch>\r\n                        <Footer />\r\n                    </div>\r\n                </Router>\r\n            )\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}